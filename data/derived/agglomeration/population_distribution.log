
  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 2-core Stata perpetual license:
       Serial number:  501506203290
         Licensed to:  Miklos Koren
                       CEU MicroData


Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do population_distribution.do 

. clear all

. use "../../clean/cbp/zip_code_business_patterns.dta"

. 
. collapse (firstnm) population population_density, by(zip)

. sort population_density

. 
. generate CDF = sum(population)

. summarize CDF

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
         CDF |     26,811    1.06e+08    1.03e+08          0   3.04e+08

. replace CDF = int(CDF / (1+r(max)) * 100)
(26,721 real changes made)

.  
. collapse (min) population_density, by(CDF)

. list

     +----------------+
     | CDF   popula~y |
     |----------------|
  1. |   0          0 |
  2. |   1   4.284644 |
  3. |   2   7.096248 |
  4. |   3   9.701375 |
  5. |   4   12.15292 |
     |----------------|
  6. |   5    14.6235 |
  7. |   6   17.01521 |
  8. |   7    19.3668 |
  9. |   8   21.65446 |
 10. |   9   24.08895 |
     |----------------|
 11. |  10   26.94455 |
 12. |  11   29.67677 |
 13. |  12   32.76149 |
 14. |  13   35.91088 |
 15. |  14   39.16148 |
     |----------------|
 16. |  15   42.56249 |
 17. |  16    45.9867 |
 18. |  17    50.1558 |
 19. |  18   54.90157 |
 20. |  19   59.69346 |
     |----------------|
 21. |  20    64.2691 |
 22. |  21   70.83932 |
 23. |  22   76.37311 |
 24. |  23   82.84639 |
 25. |  24   89.63304 |
     |----------------|
 26. |  25   97.46729 |
 27. |  26   105.5874 |
 28. |  27   113.0113 |
 29. |  28   120.8117 |
 30. |  29   129.1852 |
     |----------------|
 31. |  30   139.1887 |
 32. |  31   149.8383 |
 33. |  32   159.7045 |
 34. |  33   170.9742 |
 35. |  34   183.0172 |
     |----------------|
 36. |  35   196.1597 |
 37. |  36   211.4008 |
 38. |  37   227.5186 |
 39. |  38   243.8347 |
 40. |  39   261.8103 |
     |----------------|
 41. |  40    279.491 |
 42. |  41    297.347 |
 43. |  42   314.4043 |
 44. |  43   336.9001 |
 45. |  44   356.7812 |
     |----------------|
 46. |  45   378.3328 |
 47. |  46   403.7092 |
 48. |  47   437.0411 |
 49. |  48   458.7351 |
 50. |  49   488.2646 |
     |----------------|
 51. |  50   518.4644 |
 52. |  51   553.3665 |
 53. |  52   578.8042 |
 54. |  53   609.7855 |
 55. |  54   640.9773 |
     |----------------|
 56. |  55   673.3745 |
 57. |  56   709.8226 |
 58. |  57   741.9878 |
 59. |  58   771.9185 |
 60. |  59   806.1057 |
     |----------------|
 61. |  60   844.9061 |
 62. |  61   888.4468 |
 63. |  62   918.4294 |
 64. |  63   959.7476 |
 65. |  64   997.6371 |
     |----------------|
 66. |  65   1034.053 |
 67. |  66   1067.615 |
 68. |  67   1107.729 |
 69. |  68   1146.781 |
 70. |  69    1192.41 |
     |----------------|
 71. |  70   1238.157 |
 72. |  71   1277.786 |
 73. |  72   1336.594 |
 74. |  73   1385.704 |
 75. |  74   1440.192 |
     |----------------|
 76. |  75   1495.319 |
 77. |  76    1550.88 |
 78. |  77   1615.304 |
 79. |  78   1671.974 |
 80. |  79   1741.901 |
     |----------------|
 81. |  80   1796.828 |
 82. |  81   1872.184 |
 83. |  82   1953.899 |
 84. |  83    2056.16 |
 85. |  84   2159.847 |
     |----------------|
 86. |  85   2280.772 |
 87. |  86   2399.151 |
 88. |  87   2524.428 |
 89. |  88   2668.131 |
 90. |  89    2844.33 |
     |----------------|
 91. |  90   3066.721 |
 92. |  91   3377.109 |
 93. |  92   3739.842 |
 94. |  93   4185.247 |
 95. |  94   4655.954 |
     |----------------|
 96. |  95   5571.803 |
 97. |  96   6587.077 |
 98. |  97   8241.162 |
 99. |  98   12634.84 |
100. |  99   20333.79 |
     +----------------+

. 
end of do-file
